<html>

<head>
 <style>
  textarea {
   margin: 50px;
   height: 20em;
   width: calc(100% - 100px)
  }
 </style>
</head>

<textarea id="textArea">
</textarea>
 
<button type="button" onclick="myFunction()">Click Me!</button>
<hr>
 
<textarea id="output">
</textarea>

<script>
 
function myFunction() {
  let text = document.getElementById("textArea").value;
  let output = document.getElementById("output");

  const regex = new RegExp('((Wszystko smok., )|(\\[.*\\]))+', 'g');
	let translated= text.replaceAll(regex, "\n").trim();

  output.value = translated.replace(/(\r\n|\r|\n){2,}/g, '$1\n');

}

</script>
</html>
